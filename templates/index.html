{% extends "base.html" %}
{% block content %}
<div class="auth-container">
  <h1>🎬 Bienvenido</h1>
  <p>Selecciona una opción para continuar:</p>

  <!-- Botones de selección -->
  <div class="option-buttons">
    <button id="show-login">Iniciar Sesión</button>
    <button id="show-register" class="secondary">Registrarse</button>
  </div>

  <!-- Formulario de inicio de sesión -->
  <div id="login-form" class="form hidden">
    <h2>Iniciar Sesión</h2>
    <form method="post" action="{{ url_for('login') }}">
      <input type="text" name="username" placeholder="Usuario" required>
      <input type="password" name="password" placeholder="Contraseña" required>
      <button type="submit">Ingresar</button>
    </form>
    <p class="switch">¿No tienes cuenta? <a href="#" id="switch-to-register">Regístrate aquí</a></p>
  </div>

  <!-- Formulario de registro -->
  <div id="register-form" class="form hidden">
    <h2>Registro</h2>
    <form method="post" action="{{ url_for('register') }}">
      <input type="text" name="username" placeholder="Usuario" required>
      <input type="email" name="email" placeholder="Correo electrónico" required>
      <input type="password" name="password" placeholder="Contraseña" required>
      <button type="submit">Crear cuenta</button>
    </form>
    <p class="switch">¿Ya tienes cuenta? <a href="#" id="switch-to-login">Inicia sesión</a></p>
  </div>
</div>

<script>
  // Mostrar formularios dinámicamente
  const loginForm = document.getElementById('login-form');
  const registerForm = document.getElementById('register-form');
  const showLoginBtn = document.getElementById('show-login');
  const showRegisterBtn = document.getElementById('show-register');
  const switchToRegister = document.getElementById('switch-to-register');
  const switchToLogin = document.getElementById('switch-to-login');

  showLoginBtn.addEventListener('click', () => {
    loginForm.classList.remove('hidden');
    registerForm.classList.add('hidden');
  });

  showRegisterBtn.addEventListener('click', () => {
    registerForm.classList.remove('hidden');
    loginForm.classList.add('hidden');
  });

  switchToRegister.addEventListener('click', (e) => {
    e.preventDefault();
    registerForm.classList.remove('hidden');
    loginForm.classList.add('hidden');
  });

  switchToLogin.addEventListener('click', (e) => {
    e.preventDefault();
    loginForm.classList.remove('hidden');
    registerForm.classList.add('hidden');
  });
</script>
{% endblock %}
